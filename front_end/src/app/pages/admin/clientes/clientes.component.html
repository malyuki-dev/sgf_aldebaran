<div class="page-container">
  <div class="page-header">
    <div style="display: flex; align-items: center; gap: 15px;">
      <div class="icon-box"><lucide-icon [img]="icons.users"></lucide-icon></div>
      <div>
        <h1>Gestão de Clientes</h1>
        <p>Consulte e gerencie a base de clientes.</p>
      </div>
    </div>
    <button class="btn-primary" (click)="novoCliente()">
      <lucide-icon [img]="icons.plus"></lucide-icon> Novo Cliente
    </button>
  </div>

  <div class="card filters-card">
    <div class="filters-row">
      
      <div class="input-group flex-2">
        <label>Nome / Razão Social</label>
        <div class="input-wrapper">
          <lucide-icon [img]="icons.search" class="icon-small"></lucide-icon>
          <input [(ngModel)]="filtros.nome" (keyup.enter)="buscar()" placeholder="Buscar por nome...">
        </div>
      </div>
      
      <div class="input-group flex-1">
        <label>CPF/CNPJ</label>
        <input [(ngModel)]="filtros.documento" (keyup.enter)="buscar()" placeholder="Apenas números">
      </div>

      <div class="input-group flex-1">
        <label>Status</label>
        <select [(ngModel)]="filtros.status" (change)="buscar()">
          <option value="todos">Todos</option>
          <option value="ativo">Ativo</option>
          <option value="inativo">Inativo</option>
        </select>
      </div>

      <div class="actions-group">
        <button class="btn-filter" (click)="buscar()">
          <lucide-icon [img]="icons.filter" size="16"></lucide-icon> Filtrar
        </button>
        <button class="btn-clear" (click)="limparFiltros()" title="Limpar filtros">
          <lucide-icon [img]="icons.x" size="16"></lucide-icon>
        </button>
      </div>
    </div>
  </div>

  <div class="card list-card">
    <table *ngIf="!loading">
      <thead>
        <tr>
          <th>NOME</th>
          <th>DOCUMENTO</th>
          <th>E-MAIL</th>
          <th>TELEFONE</th>
          <th class="text-center">STATUS</th>
          <th class="text-right">AÇÕES</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of clientes">
          <td class="fw-bold">{{ c.nome }}</td>
          <td>{{ c.documento }}</td>
          <td>{{ c.email }}</td>
          <td>{{ c.telefone || '-' }}</td>
          <td class="text-center">
            <span class="badge" [class.inactive]="!c.ativo">
              {{ c.ativo ? 'ATIVO' : 'INATIVO' }}
            </span>
          </td>
          <td class="text-right">
            <button class="btn-icon" (click)="editar(c)" title="Editar">
              <lucide-icon [img]="icons.edit" size="16"></lucide-icon>
            </button>
            <button class="btn-icon delete" (click)="excluir(c.id)" title="Excluir">
              <lucide-icon [img]="icons.trash" size="16"></lucide-icon>
            </button>
          </td>
        </tr>
        <tr *ngIf="clientes.length === 0">
          <td colspan="6" class="empty-msg">Nenhum registro encontrado.</td>
        </tr>
      </tbody>
    </table>
    
    <div *ngIf="loading" class="loading-state">Carregando dados...</div>
  </div>
</div>